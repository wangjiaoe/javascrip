<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    let person={
      name:'è’‹ç‘¶æ™´',
      age:17,
      food:80,
      happyness:50,
      // äººç±»ä¸€å®šè¦åƒé¥­ï¼Œå¦‚æœfood>100ï¼Œé‚£å°±åƒä¸ä¸‹
      // å¦‚æœfood<0å°±ä¼šé¥¿æ­»
      eat:function(){
        // å®Œæˆeatï¼ˆåƒï¼‰è¿™ä¸ªè¡Œä¸ºï¼Œæ¯æ¬¡eat,food+10
        if(this.food+10<100){
          this.food=this.food+10;
          console.log('æ‰“å‘å«èŠ±å­å‘¢ï¼Ÿ');
        }else{
          this.food=100;
          console.log('åƒçš„æ¯”ğŸ–å¤š');
        }
      },
      alive:function(){
        // æŠŠpersonå¯¹è±¡çš„thisæŒ‡å‘çš„å­˜å‚¨ç©ºé—´ï¼Œèµ·äº†ä¸€ä¸ªå«thatçš„åå­—
        let that=this;
        // setIntervalå‡½æ•°ï¼Œç”¨äºæ¯é—´éš”ä¸€å®šæ—¶é—´æ‰§è¡Œè§„å®šä»£ç ï¼Œå’ŒsetTimeout
        // setInterval(function,time)
        let timer=setInterval(function(){
          // ä½œç”¨åŸŸé”™è¯¯ï¼Œå¼•èµ·çš„bug
          console.log('å½“å‰foodå€¼:'+that.food);
          that.food=that.food-20;
          if(that.food<50&&that.food>=0){
            console.log('é¥¿äº†ğŸ™‚');
          }if(that.food<0){
            console.log('æ­»äº†ğŸ‘»');
          // è®¡æ—¶åœæ­¢
          // å®é™…ä¸Šå°±æ˜¯ï¼Œåœæ­¢timerè®¡æ—¶å™¨
            clearInterval(timer);
          }
        },3000);
      },
      touWei:function(){
        let that=this;
        let timerr=setInterval(function(){
          console.log('å½“å‰foodå€¼'+that.food);
          that.food=that.food+10;
          if(that.food>=40&&that.food<60){
            console.log('ğŸ‘´é¥¿äº†');
          }
          if(that.food==100){
            console.log('åƒé¥±äº†');
            clearInterval(timerr);
          };
          if(that.food<=0){
            console.log('ğŸ‘»');
            clearInterval(timerr);
          }
        },2000);
      },
    }
    // person.eat();
    // person.eat();
    // person.eat();
    // person.eat();
    // person.eat();
    person.alive();
    person.touWei();
  </script>
</body>
</html>